<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{margin:0;padding:0;}
	</style>
</head>
<body>
	
</body>
</html>
<script type="text/javascript" src="js/jquery-1.11.1.js"></script>
<script type="text/javascript" src="js/pixi.min.js"></script>
<script type="text/javascript" src="js/ball.js"></script>
<script>
	var bunny,renderer,stage;
	// var G = 0.98;//重力加速度;


	init();
	animate();
	function init(){

		var wwidth = $(window).width();
		var wheight = $(window).height();

		// 创建pixi的stage
		stage = new PIXI.Container();

		var backgroundSprite = new PIXI.Sprite();
		backgroundSprite.width = wwidth;
		backgroundSprite.height = wheight;


		// 创建一个渲染
		renderer = PIXI.autoDetectRenderer($(window).width(),$(window).height());
		// 添加到页面
		document.body.appendChild(renderer.view);

		backgroundSprite.interactive = true;
		backgroundSprite.on('mousedown', onDown);
		backgroundSprite.on('touchstart', onDown);

		stage.addChild(backgroundSprite);

		
	}

	function onDown (eventData) {
		var x = eventData.data.global.x;
		var y = eventData.data.global.y;

		var ball = new PIXI_BALL(x,y);
		stage.addChild(ball.sprite);
		ball.start();
	}


	function animate() {
		requestAnimationFrame( animate );
		renderer.render(stage);
	}




</script>